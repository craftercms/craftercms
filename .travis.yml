version: "~> 1.0"
git:
  depth: 1
  quiet: true
language: java
jdk:
  - openjdk21
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - develop
    - support/4.1.x
    - support/4.0.x
    - master
notifications:
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
install: skip
script:
  - if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests -f spring-boot/pom.xml deploy --settings .travis-settings.xml";
    fi
  - if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests clean install"
    bash -c "mvn -DskipTests -f spring-boot/pom.xml clean install";
    fi
env:
  global:
    - secure: "1W0mufFKEm2vWu+qp2Dfm+3M9UTo8Dmt0BiEdfjHxZVtRvvwpa3c1jPiycKKgkiac1LPR34R49VefH3mqLP1OmVHUpvVYUcDLCoyrWTGZyg6UJE0HbNnOdi0dvZdVG94YdvCwUaKZDA+mDpbucuEs4mXaOa+QvvUyoZtdGVdeoenC+evXzKJ97vurBt0knLyP0+DQ7Id9OrdQPlspnUnBwb41RimMl0Sa49nBmtJtE3hbs9hbaBa3vCAboVjVyYkmmGrpLc7BANIx5EJeRzPF375ukTTffI+S1B8zerOogmZ6nImdiLe1OATTBmqOIy+dkYiYjz9AU8dyhkmzQw9Jp8xKeZyevUK6339zTQwENifDLDL+2obXjuCsJ+gh/Q5jG4+WeZZEpTq25WTUQHOPiS87cowXY6dkIfI7ehH1E05OCMuZh8hA886qb+dtCYGHJTnZq8D9LlX+iH0UylHs6aSmUAP219bFC1HWxQITYrgag+kQnkfpq7GAYbbXKZrE5X4XsH7EpLiHZvVBOSUVzIRcNR4MJpkPL3gs0EoA94Q5QPB+SnUpXSkjNVzwKdsBbWazZMbUN3ABUekSlRW1Om5f/JBuAeBy/5b8DEAhudIuOlNjUdJBmPdHxStVrN0Fu9VARZFtz2kIJme7SWYsOP3Gf5WHAaFQC1lOQdmxWE="
    - secure: "SVwzhIZe+qJbEYTJVVmyPCteipYv1hMj4cuu5Wl/eCbJgL583cI9uT0QLEeMOsZ5bIKXOx1kj+47/ZpO8uySQe421wRq3UBlqa0ULecAKzV2BzpPgR1/vcvIotiUvzyYGwipqS5ARFCA+prorQY0tVhrFqPsI3MuN9c4gZwfN9rtaS5+j3HcgVTRFY5IISgUjOwJzUpIc/I9kwryZmGP0P5KgmC3xe173TI2v17Jf6HIoJYBovULJwBKothAIzV8KC3kCV4zkHtxaWfObJvqJ+qE4dWOaeX/FTcy9j2+b+W705gOiWWmCgdMWDpvzmZBgwvbuWhlkeS9Ls4xEPsTut4g3v55gdSgewkO1qeBqGDloX53NexxvBl9Y6wZ5MUnH3NwvIXZ1GMF4tMS5vsNgI5B/OgYDFV/y+93YXFoexgErIH49rOhSxzTgtSqy/9pb8xm1Y8Z8N8lijib//LCqIJRvK0MO80AfiiAmz6TuDgJhGsbOFwO+U6V31Q2bApbVfTxBwxuCDIy2s74AjpLIE1dbq9Qduyf4GaqSJmIFjzsC4JrjqPvkmnTdgGsy0tre/WMKg0J5txl/MxZpLHqatpL/gNzY7Tmm6wTWUFYw9eiGmtU/aeGc9CQLgotwIr2LAhDHcoDdrvjS4Jn7mXoMeUp6JVi7FOzo+e1gAospGw="
