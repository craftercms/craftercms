version: "~> 1.0"
git:
  depth: 1
  quiet: true
language: java
jdk:
  - openjdk17
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - develop
    - support/4.1.x
    - support/4.0.x
    - master
notifications:
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
install: skip
script:
  - if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests -f pom-spring-boot.xml deploy --settings .travis-settings.xml";
    fi
  - if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests clean install"
    bash -c "mvn -DskipTests -f pom-spring-boot.xml clean install";
    fi
env:
  global:
    - secure: "4vL03PqBEcpKPs2LfVfgQuikh8IF5oplWqM+pGdsreSEsc8+w5CWEjcbNXs2gn3YsepMfBvOmxNJiSzNxh5dJEq73qe9SzddNXpiCSk7SbYR5dXCLs+x6np7R/U51tTR60rHTck2cM35K3h2XIzTLwVPkXkwD4Z7dYgKJ6qRVtzdPlJ/wi9vZQbtZVWCBkj9tel1lysgF1SzrswPjfBDIbBhd+qhpBPVZXVFMAzik/qOjZqTeHwBwmGiuXhI27LlHvLbyhCZQ16HeIsZcoy/QVAwo+DgbSxWgSxKQPX1mdpVvKt5Xzh7U92+8KFoyYKk24uzAzQtVIXBvrfYAm6xcUD0L94qzodc5hPBIGHeKtTFNXw7kqT2Xcb71pTaSm6pRmo2IX/3+/gkQtQKNMGkX12rAvp9c48LSpaS+OP0zVVFdXn9cdizddCv3xSi3PZqGXnej1k7nlzFgouI/Zsi0ub74f6QkJNQoyxgoUfVCeBv3/UgDUIp9TjhdstLcLzdMQLyVfbNet0S4JhyaYPowXI/RIth19iad+BYJSkIuVoVYfMBwZURkKpdZ7p3xzTzmfg2MT7uOIIztFyHNCRWCh5QdCiAe0o25F57329wjkBvOyuy2GjUdAWwog32NMf6A02nGVS34oqvaxx624AmNawMkG7Z/ozvDWmdO3Y/I2g="
    - secure: "Vyg5PUL1c7BP5BNvHLa2SwKVGRQTEtUHns01aHhDWwDhlBFJwHSC9ew3JngJ9tn1FG3xyP753zr5wONY+/lmuJe6k10M95m5KakSo1Nm72Kgm5W8wvDeNKdfwo15C3TZohIzwfIVndCzLxl2aoYcrFwMaFcnKtMBxXy07vqgYnawnLruzEwzofJCAo0l1XFsccrCdb3/HOSpFFMSbVeDpozua7nYEl5RSWC8frvQ/EEv1aHU+BgEtWysOEYKMiygZFlnGkcFIIzVXk0Mc3tQ7g9IljsmIJ+R1OGaFPqN/LC8LpLWoIVhFJQNOPWr+Uwl1J4I8Qn8QxXjiS3PyV9YSHVIknDuE/rU3tly4OkUWHgsmGyu7REER4RkzA7C3lBgB16/jezX2CHyBz92o68FVyePUiUa9yuBhtx061KCPg/0uEBCVfIp4MOdw9ee31/uz0QqEtOQrUBoeOqSf6tmbHOnG+MaXQMgQLhYjMMfn72NQelKe5JL3nwhGGtVQ+STEBz9TgJyB9UPjRYnl95Pqdf8FvbKfc856OY4pwhBwcucVdtQccuWl9exRJCle1ISEdCXjIElPfbJHqbQproDwXVT5rq2danwREHWd47tFa7kII2I7rflWaS1L97VkFCM+UZp1lZRNC0lpGKugn04N2m4FjMlfCj0+Rt0Wz+5cdQ="
